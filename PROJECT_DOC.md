# AI æ²Ÿé€šæ•™ç»ƒ - é¡¹ç›®æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: AI æ²Ÿé€šæ•™ç»ƒ (AI Communication Coach)  
**ä¸€å¥è¯æè¿°**: ä½ çš„ 24å°æ—¶ç§äººæ²Ÿé€šæ•™ç»ƒï¼Œè®°ä½æ¯æ®µå…³ç³»çš„å†å²ï¼Œç»™å‡ºæœ€é€‚åˆä½ çš„å»ºè®®  
**çº¿ä¸Šåœ°å€**: https://aigoutongjiaolian0112.vercel.app/  
**GitHub ä»“åº“**: https://github.com/372768498/aigoutongjiaolian0112  
**å½“å‰ç‰ˆæœ¬**: v2.0

---

## ğŸ¯ äº§å“å®šä½

| ç»´åº¦ | v1.0 (MVP) | v2.0 (å½“å‰) |
|------|------------|-------------|
| äº§å“å®šä½ | ä¸€æ¬¡æ€§è¯æœ¯ç”Ÿæˆå™¨ | **é•¿æœŸç§äººæ²Ÿé€šæ•™ç»ƒ** |
| æ ¸å¿ƒä»·å€¼ | ç»™3ä¸ªé€šç”¨ç­–ç•¥ | **æ‡‚ä½ çš„å…³ç³» + ç²¾å‡†å®šåˆ¶å»ºè®®** |
| è¾“å‡ºå½¢å¼ | ä¸€æ¬¡æ€§åˆ†æç»“æœé¡µ | **å¯¹è¯å¼å¤šAgentå’¨è¯¢ + å…³ç³»è®°å¿†** |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| ç±»åˆ« | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| **æ¡†æ¶** | Next.js (App Router) | 16.1.1 |
| **è¯­è¨€** | TypeScript | 5.x |
| **æ ·å¼** | Tailwind CSS | 4.x |
| **UI ç»„ä»¶** | shadcn/ui | latest |
| **AI API** | OpenAI GPT-4o | - |
| **éƒ¨ç½²** | Vercel | - |
| **æ•°æ®å­˜å‚¨** | localStorage (MVP) | - |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-coach/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ chat/route.ts           # å¤šAgentå¯¹è¯API â­
â”‚   â”‚   â”‚   â”œâ”€â”€ analyze/route.ts        # åŸåˆ†æAPI
â”‚   â”‚   â”‚   â”œâ”€â”€ analyze-screenshot/     # æˆªå›¾åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ quick-reply/            # å¿«é€Ÿå›å¤
â”‚   â”‚   â”‚   â”œâ”€â”€ quick-reply-smart/      # æ™ºèƒ½å¿«é€Ÿå›å¤
â”‚   â”‚   â”‚   â”œâ”€â”€ relationships/          # å…³ç³»ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ conversations/          # å¯¹è¯è®°å½•
â”‚   â”‚   â”œâ”€â”€ chat/page.tsx               # å¤šAgentèŠå¤©é¡µé¢ â­
â”‚   â”‚   â”œâ”€â”€ home/page.tsx               # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ quick-reply/page.tsx        # å¿«é€Ÿå›å¤é¡µ
â”‚   â”‚   â”œâ”€â”€ relationships/page.tsx      # å…³ç³»ç®¡ç†é¡µ
â”‚   â”‚   â”œâ”€â”€ screenshot/page.tsx         # æˆªå›¾åˆ†æé¡µ
â”‚   â”‚   â”œâ”€â”€ globals.css
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx                    # å…¥å£(é‡å®šå‘åˆ°home)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ chat/                       # èŠå¤©ç»„ä»¶ â­
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatSidebar.tsx         # å·¦ä¾§å¯¹è±¡åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatArea.tsx            # å³ä¾§å¯¹è¯åŒºåŸŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInput.tsx           # åº•éƒ¨è¾“å…¥æ¡†(@è¿½é—®)
â”‚   â”‚   â”‚   â”œâ”€â”€ AgentMessage.tsx        # Agentæ¶ˆæ¯å¡ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ UserMessage.tsx         # ç”¨æˆ·æ¶ˆæ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ AddContactModal.tsx     # æ·»åŠ å¯¹è±¡å¼¹çª—
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ ui/                         # shadcn/ui ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ QuickReply.tsx
â”‚   â”‚   â”œâ”€â”€ SceneSelector.tsx
â”‚   â”‚   â””â”€â”€ TopicLibrary.tsx
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ chat.ts                     # èŠå¤©ç±»å‹å®šä¹‰ â­
â”‚   â”‚   â””â”€â”€ index.ts                    # é€šç”¨ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ lib/
â”‚       â”œâ”€â”€ agents.ts                   # Agent Prompts â­
â”‚       â”œâ”€â”€ supabase.ts
â”‚       â””â”€â”€ utils.ts
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ PRD_v2.md                       # v2.0 äº§å“éœ€æ±‚æ–‡æ¡£
â””â”€â”€ ...
```

---

## ğŸ¤– å¤šAgentç³»ç»Ÿ (v2.0æ ¸å¿ƒ)

### Agentè§’è‰²å®šä¹‰

| Agent | èŒä½åç§° | Emoji | é¢œè‰² | èŒè´£ |
|-------|---------|-------|------|------|
| analyzer | åœºæ™¯åˆ†æå¸ˆ | ğŸ¯ | indigo | åˆ†æåœºæ™¯ã€ç†è§£åŒæ–¹çŠ¶æ€ã€è¯†åˆ«æ²Ÿé€šè¦ç‚¹ |
| warm | æ¸©æŸ”æ´¾é¡¾é—® | ğŸ¤— | pink | å…±æƒ…ç†è§£ã€æƒ…ç»ªå®‰æŠšã€æ¸©æŸ”æ¨è¿› |
| humor | å¹½é»˜æ´¾é¡¾é—® | ğŸ˜„ | amber | è½»æ¾åŒ–è§£ã€ç ´å†°æ‰“è¶£ã€æ´»è·ƒæ°”æ°› |
| cool | é«˜å†·æ´¾é¡¾é—® | ğŸ˜ | cyan | ä¿æŒè·ç¦»ã€æ¬²æ“’æ•…çºµã€ä¸å‘ä¸äº¢ |
| direct | ç›´çƒæ´¾é¡¾é—® | ğŸ’ª | green | å¦è¯šç›´æ¥ã€çœŸè¯šè¡¨è¾¾ã€æœ‰è¯ç›´è¯´ |

### åä½œæµç¨‹

```
ç”¨æˆ·ä¸Šä¼ æˆªå›¾ + èƒŒæ™¯ä¿¡æ¯
    â†“
ğŸ¯ åœºæ™¯åˆ†æå¸ˆï¼šåˆ†æåœºæ™¯ + ç†è§£åŒæ–¹çŠ¶æ€
    â†“
4ä¸ªé¡¾é—®å¹¶è¡Œç»™å‡ºå»ºè®®ï¼ˆæ¯æ¡è¯æœ¯å¯å¤åˆ¶ï¼‰
    â†“
ç”¨æˆ· @æŸé¡¾é—® è¿½é—® â†’ è¯¥é¡¾é—®ç»§ç»­å›å¤
```

---

## ğŸ”Œ API æ¥å£

### POST /api/chat (æ ¸å¿ƒAPI)

**åŠŸèƒ½**: å¤šAgentå¯¹è¯åˆ†æ

**è¯·æ±‚ä½“**:
```json
{
  "message": "ç”¨æˆ·è¾“å…¥çš„æ–‡å­—",
  "images": ["base64å›¾ç‰‡1", "base64å›¾ç‰‡2"],
  "mentionedAgent": "warm",  // å¯é€‰ï¼Œ@çš„Agent
  "context": {
    "contact": {
      "name": "ç”·ç¥",
      "relationshipType": "romance",
      "relationshipStage": "çƒ­æ‹æœŸ"
    },
    "recentMessages": []
  }
}
```

**å“åº”ä½“**:
```json
{
  "messages": [
    {
      "id": "msg_xxx",
      "type": "agent",
      "agentId": "analyzer",
      "content": "åˆ†æç»“æœ...",
      "analysis": {
        "category": "æ‹çˆ±",
        "subCategory": "å†²çªä¿®å¤",
        "otherEmotion": { "primary": "å—ä¼¤", "intensity": 7 },
        "deepNeed": "å¸Œæœ›è¢«é‡è§†",
        "urgency": 7,
        "taboos": ["è®²é“ç†", "æ‰¾å€Ÿå£"]
      }
    },
    {
      "id": "msg_yyy",
      "type": "agent", 
      "agentId": "warm",
      "content": "å»ºè®®æ–¹å‘...",
      "scripts": [
        { "content": "è¯æœ¯å†…å®¹", "explanation": "è§£é‡Š" }
      ],
      "successRate": 75,
      "riskLevel": "low",
      "isRecommended": true
    }
  ]
}
```

---

## âœ… å·²å®ŒæˆåŠŸèƒ½

### v2.0 å¤šAgentç³»ç»Ÿ â­
- [x] ğŸ¤– 5ä¸ªAgentè§’è‰²ï¼ˆåœºæ™¯åˆ†æå¸ˆ + 4é£æ ¼é¡¾é—®ï¼‰
- [x] ğŸ’¬ å¾®ä¿¡é£æ ¼èŠå¤©ç•Œé¢ï¼ˆå·¦å³åˆ†æ ï¼‰
- [x] ğŸ“‹ å·¦ä¾§å¯¹è±¡åˆ—è¡¨ç®¡ç†
- [x] ğŸ’­ å³ä¾§å¯¹è¯åŒºåŸŸï¼ˆçºµå‘æ¶ˆæ¯æµï¼‰
- [x] @ @è¿½é—®åŠŸèƒ½ï¼ˆè¾“å…¥@é€‰æ‹©é¡¾é—®ï¼‰
- [x] ğŸ“‹ è¯æœ¯ä¸€é”®å¤åˆ¶
- [x] ğŸ† æ¨èæ ‡è®°ï¼ˆæˆåŠŸç‡æœ€é«˜çš„ç­–ç•¥ï¼‰
- [x] âš ï¸ é£é™©æç¤ºï¼ˆé«˜é£é™©ç­–ç•¥è­¦å‘Šï¼‰
- [x] ğŸ’¾ æœ¬åœ°å­˜å‚¨ï¼ˆlocalStorageæŒä¹…åŒ–ï¼‰

### v1.0 åŸºç¡€åŠŸèƒ½
- [x] ğŸ“¸ èŠå¤©æˆªå›¾ä¸Šä¼ ï¼ˆæ”¯æŒæ‹–æ‹½ï¼‰
- [x] ğŸš€ å¿«é€Ÿå›å¤åŠŸèƒ½
- [x] ğŸ“ å…³ç³»æ¡£æ¡ˆç®¡ç†
- [x] ğŸŒ Vercel è‡ªåŠ¨éƒ¨ç½²
- [x] ğŸ“± å“åº”å¼è®¾è®¡

---

## ğŸ“ å¾…å¼€å‘åŠŸèƒ½

### P1 - ä½“éªŒä¼˜åŒ–
- [ ] å…³ç³»æ¡£æ¡ˆå®Œå–„ï¼ˆç›®æ ‡ã€äººè®¾ï¼‰
- [ ] ç”¨æˆ·åå¥½è®°å½•ï¼ˆå­¦ä¹ é€‰æ‹©ï¼‰
- [ ] å¯¹è¯åŠ¨ç”»æ•ˆæœï¼ˆé€æ¡å±•ç¤ºï¼‰

### P2 - åç»­è¿­ä»£
- [ ] è¿ç§»åˆ° Supabaseï¼ˆäº‘ç«¯å­˜å‚¨ï¼‰
- [ ] ç”¨æˆ·ç™»å½•æ³¨å†Œ
- [ ] ç­–ç•¥æ•ˆæœåé¦ˆ
- [ ] ä»˜è´¹åŠŸèƒ½

---

## ğŸš€ å¼€å‘å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# æœ¬åœ°å¼€å‘
npm run dev

# æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡
npm start

# ä»£ç æ£€æŸ¥
npm run lint
```

---

## ğŸ”‘ ç¯å¢ƒå˜é‡

### æœ¬åœ°å¼€å‘ (.env.local)
```env
OPENAI_API_KEY=sk-your-openai-api-key
```

### Vercel ç”Ÿäº§ç¯å¢ƒ
åœ¨ Vercel Dashboard â†’ Settings â†’ Environment Variables ä¸­é…ç½®ï¼š
- `OPENAI_API_KEY`: OpenAI API å¯†é’¥

---

## ğŸŒ éƒ¨ç½²æµç¨‹

1. ä»£ç æ¨é€åˆ° GitHub main åˆ†æ”¯
2. Vercel è‡ªåŠ¨æ£€æµ‹å¹¶è§¦å‘æ„å»º
3. æ„å»ºæˆåŠŸåè‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
4. è®¿é—® https://aigoutongjiaolian0112.vercel.app/ æŸ¥çœ‹

---

## ğŸ“… æ›´æ–°æ—¥å¿—

### v2.0.0 (2026-01-15)
- ğŸ¯ äº§å“å®šä½å‡çº§ï¼šä»è¯æœ¯ç”Ÿæˆå™¨ â†’ ç§äººæ²Ÿé€šæ•™ç»ƒ
- ğŸ¤– å¤šAgentç³»ç»Ÿï¼š5ä¸ªè§’è‰²åä½œåˆ†æ
- ğŸ’¬ å¾®ä¿¡é£æ ¼ç•Œé¢ï¼šå¯¹è¯å¼äº¤äº’
- ğŸ“ å…³ç³»æ¡£æ¡ˆç³»ç»Ÿï¼šè®°ä½æ¯æ®µå…³ç³»
- @ @è¿½é—®åŠŸèƒ½ï¼šæ·±å…¥æŸä¸ªæ–¹å‘
- ğŸ“‹ è¯æœ¯å¤åˆ¶ï¼šä¸€é”®å¤åˆ¶ä½¿ç”¨

### v1.0.0 (2026-01-12)
- ğŸ‰ MVP ä¸Šçº¿
- æˆªå›¾ä¸Šä¼ å’Œ AI åˆ†æ
- æƒ…ç»ªè¯Šæ–­ã€é—®é¢˜è¯†åˆ«ã€ç­–ç•¥æ¨è

---

## ğŸ“ è”ç³»æ–¹å¼

- GitHub: https://github.com/372768498
- é¡¹ç›®ä»“åº“: https://github.com/372768498/aigoutongjiaolian0112
